import{d as c,r as i,o as w,c as P,k as u,e as o,t as p,p as v,w as d,f as a,v as k,b as U}from"./266V56LC.js";import{u as V}from"./CwFOJz7V.js";const S={class:"min-h-screen bg-gray-50"},D={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},j={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},M={class:"lg:col-span-1"},N={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},h={class:"text-center"},B={class:"w-24 h-24 mx-auto bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mb-4"},I={class:"text-white text-2xl font-bold"},J={class:"text-lg font-semibold text-gray-900"},O={class:"text-gray-500"},A={class:"lg:col-span-2"},C={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},E={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mt-8"},q=c({__name:"profile",setup(F){const s=i(null),t=i({name:"",email:"",phone:"",department:"",position:"",bio:""}),r=i({currentPassword:"",newPassword:"",confirmPassword:""});w(()=>{const n=localStorage.getItem("user");n&&(s.value=JSON.parse(n),t.value={name:s.value.name||"",email:s.value.email||"demo@example.com",phone:s.value.phone||"",department:s.value.department||"",position:s.value.position||"资料员",bio:s.value.bio||""})});const f=()=>{const n={...s.value,...t.value};localStorage.setItem("user",JSON.stringify(n)),s.value=n,alert("个人资料更新成功！")},y=()=>{if(r.value.newPassword!==r.value.confirmPassword){alert("两次输入的密码不一致！");return}if(r.value.newPassword.length<6){alert("密码长度不能少于6位！");return}alert("密码修改成功！"),r.value={currentPassword:"",newPassword:"",confirmPassword:""}};return V({title:"个人资料 - 工地资料管理系统"}),(n,e)=>{var b,m,g,x;return U(),P("div",S,[e[25]||(e[25]=u('<div class="bg-white border-b border-gray-200"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900">个人资料</h1><p class="text-gray-600 mt-1">管理您的个人信息和账户设置</p></div></div></div></div>',1)),o("div",D,[o("div",j,[o("div",M,[o("div",N,[o("div",h,[o("div",B,[o("span",I,p(((m=(b=s.value)==null?void 0:b.name)==null?void 0:m.charAt(0))||"D"),1)]),o("h3",J,p(((g=s.value)==null?void 0:g.name)||"Demo User"),1),o("p",O,p(((x=s.value)==null?void 0:x.role)||"资料员"),1),e[9]||(e[9]=o("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm"}," 更换头像 ",-1))]),e[10]||(e[10]=u('<div class="mt-6 pt-6 border-t border-gray-200"><div class="grid grid-cols-2 gap-4 text-center"><div><p class="text-2xl font-bold text-gray-900">128</p><p class="text-xs text-gray-500">管理资料</p></div><div><p class="text-2xl font-bold text-gray-900">45</p><p class="text-xs text-gray-500">检查项目</p></div></div></div>',1))])]),o("div",A,[o("div",C,[e[19]||(e[19]=o("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"基本信息",-1)),o("form",{onSubmit:v(f,["prevent"]),class:"space-y-6"},[o("div",null,[e[11]||(e[11]=o("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"},"姓名",-1)),d(o("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),type:"text",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入姓名"},null,512),[[a,t.value.name]])]),o("div",null,[e[12]||(e[12]=o("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},"邮箱",-1)),d(o("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=l=>t.value.email=l),type:"email",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入邮箱地址"},null,512),[[a,t.value.email]])]),o("div",null,[e[13]||(e[13]=o("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-2"},"联系电话",-1)),d(o("input",{id:"phone","onUpdate:modelValue":e[2]||(e[2]=l=>t.value.phone=l),type:"tel",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入联系电话"},null,512),[[a,t.value.phone]])]),o("div",null,[e[15]||(e[15]=o("label",{for:"department",class:"block text-sm font-medium text-gray-700 mb-2"},"所属部门",-1)),d(o("select",{id:"department","onUpdate:modelValue":e[3]||(e[3]=l=>t.value.department=l),class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[...e[14]||(e[14]=[u('<option value="">请选择部门</option><option value="工程部">工程部</option><option value="质量部">质量部</option><option value="安全部">安全部</option><option value="资料部">资料部</option>',5)])],512),[[k,t.value.department]])]),o("div",null,[e[16]||(e[16]=o("label",{for:"position",class:"block text-sm font-medium text-gray-700 mb-2"},"职位",-1)),d(o("input",{id:"position","onUpdate:modelValue":e[4]||(e[4]=l=>t.value.position=l),type:"text",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入职位"},null,512),[[a,t.value.position]])]),o("div",null,[e[17]||(e[17]=o("label",{for:"bio",class:"block text-sm font-medium text-gray-700 mb-2"},"个人简介",-1)),d(o("textarea",{id:"bio","onUpdate:modelValue":e[5]||(e[5]=l=>t.value.bio=l),rows:"4",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入个人简介"},null,512),[[a,t.value.bio]])]),e[18]||(e[18]=o("div",{class:"flex items-center justify-end space-x-3"},[o("button",{type:"button",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"}," 取消 "),o("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," 保存更改 ")],-1))],32)]),o("div",E,[e[24]||(e[24]=o("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"修改密码",-1)),o("form",{onSubmit:v(y,["prevent"]),class:"space-y-6"},[o("div",null,[e[20]||(e[20]=o("label",{for:"currentPassword",class:"block text-sm font-medium text-gray-700 mb-2"},"当前密码",-1)),d(o("input",{id:"currentPassword","onUpdate:modelValue":e[6]||(e[6]=l=>r.value.currentPassword=l),type:"password",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入当前密码"},null,512),[[a,r.value.currentPassword]])]),o("div",null,[e[21]||(e[21]=o("label",{for:"newPassword",class:"block text-sm font-medium text-gray-700 mb-2"},"新密码",-1)),d(o("input",{id:"newPassword","onUpdate:modelValue":e[7]||(e[7]=l=>r.value.newPassword=l),type:"password",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入新密码"},null,512),[[a,r.value.newPassword]])]),o("div",null,[e[22]||(e[22]=o("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 mb-2"},"确认新密码",-1)),d(o("input",{id:"confirmPassword","onUpdate:modelValue":e[8]||(e[8]=l=>r.value.confirmPassword=l),type:"password",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"请再次输入新密码"},null,512),[[a,r.value.confirmPassword]])]),e[23]||(e[23]=o("div",{class:"flex items-center justify-end"},[o("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," 修改密码 ")],-1))],32)])])])])])}}});export{q as default};
